<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.demo.mapper.ArticleListMapper">
<resultMap id="baseMap" type="com.demo.entity.ArticleList">
        <id column="id" jdbcType="INTEGER" property="id" />
</resultMap>
<select id="getByPage"  resultMap="baseMap">
	SELECT * FROM ArticleList where 1=1
	<if test="type != null ">
		and type = #{type}
	</if>
	order by ctime
</select>
<select id="searchById"  resultMap="baseMap">
	SELECT * FROM ArticleList where id=#{id}
</select>
<insert id="insert" parameterType="com.demo.entity.ArticleList">
insert into ArticleList(type,title,content,file,ctime) 
values(#{type},#{title},#{content},#{file},now());
</insert>
<delete id="delete" parameterType="java.lang.Integer" >
    delete from ArticleList where id = #{id}
  </delete>

<update id="updateById">
	update ArticleList SET type=#{type},title=#{title},content=#{content}
	<if test="file != null and file != ''">,file=#{file}</if>
	 where id=#{id} 
</update>

</mapper>